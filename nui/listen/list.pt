<html metal:use-macro="here/@@standard_macros/master">
  <body>
  
    <div metal:fill-slot="content">
      <tal:vars define="can_subscribe view/canSubscribe;
                    subscribed view/isSubscribed;
                    isAnon not: view/loggedin">
        <div id="oc-content-main">
          <dl class="oc-plainList">
            <dt i18n:translate="" id="listaddress">
              Address
            </dt>
            <dd i18n:translate="" tal:content="view/address">
              address@example.com
            </dd>
            <dt i18n:translate="" id="listmanagers">
              Managers
            </dt>
            <dd tal:repeat="manager view/list_managers">
              <span tal:content="manager" />
            </dd>
            <dt i18n:translate="" id="list-type">
              Type
            </dt>
            <dd tal:content="view/list_type" i18n:translate="">
              List type
            </dd>
            <dt i18n:translate="" id="archival-state">
              Archive
            </dt>
            <dd>
              <span tal:content="view/archived" i18n:translate="">
                Messages to this list are archived
              </span>
              <a tal:condition="view/is_archived" tal:attributes="href python:'%s/archive' % view.context.absolute_url()" i18n:translate="">
                View archive.
              </a>
            </dd>
          </dl>
          <p id="manager_email" tal:content="view/manager_email" i18n:translate="">
            Please direct inquiries about this list to listmanager@example.com.
          </p>
        </div><!-- content-main -->
        <div id="oc-content-sidebar">
          <div class="oc-listen-details-subscribe oc-boxy oc-clearAfter">
            <p tal:condition="python:isAnon or not can_subscribe" id="unsub-instructions" i18n:translate="unsub-instructions">
              To unsubscribe from this list send an email to the list with the subject
              "<span tal:replace="view/unsubscribe_keyword" i18n:name="sunsubscribe_keyword" />"
              and an empty body.
            </p>
      
            <form name="subscription-form" id="subscription-form"
              tal:define="errors view/errors|nothing; isPending view/isPending"
              action="." tal:attributes="action request/ACTUAL_URL">
      
              <tal:anon condition="python:isAnon and can_subscribe">
                <p id="subscription-satus" i18n:translate="">
                  To subscribe to the list enter your email in the field below.
                </p>
                <div class="oc-fieldBlock" tal:define="error errors/email_address|nothing"
                  tal:attributes="class python:'field' + (error and ' error' or '')">
                  <label for="email_address" i18n:translate="label_email">Email Address</label>
                  <!-- <span title="Required"
                    i18n:domain="plone" i18n:translate="label_required"
                    i18n:attributes="title title_required;">
                    (Required)
                  </span> -->
                  <div tal:condition="error" tal:content="error" i18n:translate="">
                    The Error
                  </div>
                  <input type="text" value="" name="email_address"
                  tal:attributes="value request/email_address|nothing" />
                </div>
                <div class="oc-actions">
                  <input type="submit"
                  class="context"
                  name="subscribe_email"
                  value="Subscribe Address"
                  i18n:attributes="value" />
                </div>
              </tal:anon>
              <tal:member condition="python:can_subscribe and not isAnon and not isPending">
                <h2 id="subscription-status" tal:condition="subscribed" i18n:translate="">
                  You are currently subscribed to this list.
                </h2>
                <h2 id="subscription-status" tal:condition="not:subscribed" i18n:translate="">
                  You are not currently subscribed to this list.
                </h2>
                <div class="oc-actions">
                  <input type="submit" class="standalone" name="unsubscribe_member" value="Unsubscribe"
                    tal:condition="subscribed" i18n:attributes="value" />
                  <input type="submit" class="standalone" name="subscribe_member" value="Subscribe"
                    tal:condition="not:subscribed" i18n:attributes="value" />
                </div>
              </tal:member>
      
              <p tal:condition="python: isPending">
                Your subscription request is pending moderation by the list manager.
              </p>
            </form>
          </div><!-- end oc-listen-details-subscribe -->
        </div><!-- content-sidebar -->
      </tal:vars>
    </div><!-- content-fill-slot -->
  </body>
</html>
