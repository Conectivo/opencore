<tal:hack condition="nothing"> <!-- hack to prevent non-macro execution -->
<tal:macro metal:define-macro="contents_table_wrapper">
  <tal:if condition="view/editable">
    <tal:metal metal:use-macro="here/item_table_snippet/macros/contents_table" />
  </tal:if>

  <tal:if condition="not:view/editable">
    <tal:metal metal:use-macro="here/item_table_snippet/macros/contents_table_uneditable" />
  </tal:if> 
</tal:macro>
</tal:hack>

<tal:if condition="nothing"> <!-- hack to prevent non-macro execution -->
<tal:macro metal:define-macro="contents_table">
<div class="oc-widget oc-widget-dataTable">
  <div class="oc-heading">
    <h3><tal:dummy replace="item_header" /></h3>
    <!--<p class="oc-heading-context">What do you want your project to be named?</p>-->
  </div>
  <div class="oc-searchresults-nresults">
    1-20 of 55
  </div>

  <form class="oc-liveForm" action="modify-contents">
    <input type="hidden" name="item_type"
      tal:attributes="value item_type" /> <!-- maybe this belongs elsewhere or needs class/id? -->
    <table class="oc-dataTable" cellpadding="0" cellspacing="0">
      <thead>
        <tr>
          <th class="oc-dataTable-checkBoxColumn">
            <input type="checkbox" class="oc-checkAll" />
          </th>
          <th scope="col">
            <a class="oc-columnSortable oc-selected" href="">Title &darr;</a>
          </th>
          <th scope="col">
            <a class="oc-columnSortable" href="">Size</a>
          </th>
          <th scope="col">
            <a class="oc-columnSortable" href="" tal:content="item_date_author_header" />
          </th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tal:for repeat="item item_collection">
          <tal:macro metal:use-macro="view/contents_row_snippet/macros/item_row" />
        </tal:for>
      </tbody>
    </table>

    <ul class="oc-actions oc-dataTable-actions">
      <li>
        <button type="submit" name="task" value="batch_delete" class="oc-button" >Delete</button>
      </li>
    </ul>
  </form>
</div> <!-- end .oc-widget-dataTable -->
</tal:macro>
</tal:if>

<tal:if condition="nothing"> <!-- hack to prevent non-macro execution -->
<tal:macro metal:define-macro="contents_table_uneditable">
<div class="oc-widget oc-widget-dataTable">
  <div class="oc-heading">
    <h3><tal:dummy replace="item_header" /></h3>
    <!--<p class="oc-heading-context">What do you want your project to be named?</p>-->
  </div>
  <div class="oc-searchresults-nresults">
    1-20 of 55
  </div>

  <table class="oc-dataTable" cellpadding="0" cellspacing="0">
    <thead>
      <tr>
        <th scope="col"><a class="oc-columnSortable oc-selected" href="">Title &darr;</a></th>
        <th scope="col"><a class="oc-columnSortable" href="">Size</a></th>
        <th scope="col"><a class="oc-columnSortable" href="">
            <tal:dummy replace="item_date_author_header" />
        </a></th>
      </tr>
    </thead>
    <tbody>
      <tal:for repeat="item item_collection" define="uneditable string:True">
      <tal:macro metal:use-macro="view/contents_row_snippet/macros/item_row" />
      </tal:for>
    </tbody>
  </table>

</div> <!-- end .oc-widget-dataTable -->
</tal:macro>
</tal:if>
