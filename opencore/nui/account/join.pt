<!-- join form -->
<tal:handle define="global fdata view/handle_request" replace="nothing"/>
<html 
   metal:use-macro="here/@@standard_macros/master">
  <body>
    <div id="oc-content-container" 
	 metal:fill-slot="content">              
      <div id="oc-content-main">
	
        <form id="oc-join-form" name="edit_form" method="post" 
	      tal:attributes="action string:${context/absolute_url}/${view/name}"
	      >
	  
          <fieldset>

            <legend class="headingBlock">
              <h1>Join OpenPlans</h1>

              <p class="oc-headingContext" 
		 tal:condition="not:fdata/getUser | nothing">
		Registration is free and your email will not be
                shared with anyone, however, you will need to confirm your email address in order to avoid 
                spam bots abusing this system
              </p>

	      <!-- on successful registration -->
	      <p tal:condition="fdata/getUser | nothing">
		"check yr email"
	      </p>
            </legend> 

            <table class="oc-form" 
		   tal:condition="not:fdata/getUser | nothing">
              <thead></thead>
              <tbody>
            
		<tr class="oc-form-row">
                  <th class="oc-form-label">
                    <label for="id">Username</label>
                  </th>
                  <td class="oc-form-value">
                    <input type="text" name="id" id="id"
			   tal:attributes="value request/id | nothing" />
                  </td>
                  <td class="oc-form-help">
                    <span class="oc-form-context">
                      
                    </span>
                    <span id="oc-id-validator" class="oc-form-validator">
                      
                    </span>
                    <span id="oc-id-error" class="oc-form-error"
			  tal:content="view/errors/id | nothing">

                    </span>
                  </td>		  
                </tr>

                <tr>
                  <th class="oc-form-label">
                    <label for="fullname">Full Name</label>
                  </th>
                  <td class="oc-form-value">
                    <input type="text" name="fullname" id="fullname"
			   tal:attributes="value request/fullname | nothing" />
                  </td>
                  <td class="oc-form-help">
                    <span class="oc-form-context">
                      (optional)
                    </span>
                    <span class="oc-form-validator">
                      
                    </span>
                    <span id="oc-fullname-error" class="oc-form-error"
			  tal:content="view/errors/fullname | nothing">

                    </span>
                  </td>
                </tr>

                <tr>
                  <th class="oc-form-label">
                    <label for="email">Email</label>
                  </th>
                  <td class="oc-form-value">
                    <input type="text" name="email" id="email"
			   tal:attributes="value request/email | nothing" />
                  </td>
                  <td class="oc-form-help">
                    <span class="oc-form-context">
                      
                    </span>
                    <span class="oc-form-validator">
                      
                    </span>
                    <span id="oc-email-error" class="oc-form-error"
			  tal:content="view/errors/email | nothing">

                    </span>
                  </td>
                </tr>

                <tr>
                  <th class="oc-form-label">
                    <label for="password">Password</label>
                  </th>
                  <td class="oc-form-value">
                    <input type="password" name="password" id="password" 
			   />
                  </td>
                  <td class="oc-form-help">
                    <span class="oc-form-context">
                      
                    </span>
                    <span class="oc-form-validator">
                      
                    </span>
                    <span id="oc-password-error" class="oc-form-error"
			  tal:content="view/errors/password | nothing">

                    </span>
                  </td>
                </tr>
		
                <tr>
                  <th class="oc-form-label">
                    <label for="confirm_password">Confirm passsword</label>
                  </th>
                  <td class="oc-form-value">
                    <input type="password" name="confirm_password" id="confirm_password" />  
                  </td>
                  <td class="oc-form-help">
                    <span class="oc-form-context">
                      
                    </span>
                    <span class="oc-form-validator">
                      
                    </span>
                    <span id="oc-confirm_password-error" class="oc-form-error"
			  tal:content="view/errors/confirm_password | nothing">

                    </span>
                  </td>
                </tr>

		<tr>
                  <td class="oc-form-value">
                    <input type="hidden" name="temp_mem_id" 
			   tal:attributes="value view/temp_mem_id" />
                  </td>
                  <td class="oc-form-help">
                    <span class="oc-form-context">
                      
                    </span>
                    <span class="oc-form-validator">
                      
                    </span>
                  </td>
                </tr>

                <tr class="oc-actions">
                  <th class="oc-form-label">
                  </th>
                  <td class="oc-form-value">
                    <button type="submit" name="join:boolean" value="True">Join</button>
                  </td>
                  <td class="oc-form-help">
                    <span class="oc-form-context">
                      
                    </span>
                    <span class="oc-form-validator">
                      
                    </span>
                  </td>
                </tr>
		
              </tbody>
            </table>            
	  </fieldset>
	  
	</form>
      </div><!-- end #oc-content-main -->
      
      <div id="oc-content-sidebar">
        <h3>Why join?</h3>
        <p>Here's why...<a href="">Learn more</a></p>
        <h3>What's with the full name?</h3>
        <p>That way, we can sell your identity. <br /><a href="">Learn more</a></p>
      </div><!-- end #oc-content-sidebar -->

    </div><!-- end content slot -->
  </body>
</html>
