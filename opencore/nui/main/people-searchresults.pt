<html i18n:domain="opencore" metal:use-macro="here/@@standard_macros/master">
  <head>
    <title metal:fill-slot="title"
           tal:content="string:Search People - ${view/portal_title}" />
  </head>
  <body>

    <div metal:fill-slot="content">              

      <div id="oc-content-main" tal:define="batch view/batched_results">
        
        <tal:set_var define="current_search_page string:people;
                             form_action_url string:${context/absolute_url}/searchresults">
          <div metal:use-macro="here/main_macros/search_widget" />
        </tal:set_var>
        
        <tal:got_results condition="batch">
          <div class="oc-directory">
	    
            <div class="oc-directory-sorter">
              <metal:macro use-macro="context/@@nui_batch_macros/pagination"/>
              <metal:macro use-macro="context/@@nui_batch_macros/sort_string"/>
	      <metal:macro use-macro="context/@@nui_batch_macros/sort_widget"/>
            </div>
	    
            <!-- the results are displayed here -->
            <ol class="oc-directory-list oc-clearAfter">
              <li class="oc-clearAfter vcard" tal:repeat="item batch">
		<tal:result replace="structure python:view.result_listing(item)" />
              </li>
            </ol>

            <div class="oc-directory-sorter" tal:define="many python: batch.start!=batch.end">
              <metal:macro use-macro="context/@@nui_batch_macros/pagination"/>
              <metal:macro use-macro="context/@@nui_batch_macros/sort_string"/>
            </div>
	  </div>

        </tal:got_results>
	
        <!-- if we get no results, this is what is displayed -->
        <tal:no_results condition="not:batch">
	  <div i18n:translate="people-searchresults_no_results">
	    No results found.
	  </div>
	</tal:no_results>
	
      </div>
    </div><!-- content-fill-slot -->

  </body>
</html>
