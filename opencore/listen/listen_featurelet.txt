Add the listen featurelet to a project::

    >>> self.login('m3')
    >>> proj = self.portal.projects.p1
    >>> from opencore.listen.viewlet import create_listen_container, IListenFeatureletInstalled, alsoProvides
    >>> create_listen_container(proj, 'lists')
    >>> alsoProvides(proj, IListenFeatureletInstalled)
    >>> proj.lists
    <ATFolder at /plone/projects/p1/lists>

The discussion list should have been created::

    >>> proj.lists.objectIds()
    ['p1-discussion']

And should have been registered in the list lookup utility::

    >>> ll = getUtility(IListLookup)
    >>> mapping = ll.showAddressMapping()
    >>> len(mapping)
    1
    >>> pprint(mapping)
    [{'address': 'p1-discussion@...',
      'path': '/plone/projects/p1/lists/p1-discussion'}]

Let's also add a list featurelet to another project so we can make
sure only the right one gets removed (bug #2055):

    >>> p4_proj = self.portal.projects.p4
    >>> create_listen_container(p4_proj, 'lists')
    >>> alsoProvides(p4_proj, IListenFeatureletInstalled)
    >>> p4_proj.lists.objectIds()
    ['p4-discussion']
    >>> pprint(ll.showAddressMapping())
    [{'address': 'p1-discussion@...',
      'path': '/plone/projects/p1/lists/p1-discussion'},
     {'address': 'p4-discussion@...',
      'path': '/plone/projects/p4/lists/p4-discussion'}]


And now we remove the featurelet::

    >>> from opencore.listen.viewlet import remove_listen_container, noLongerProvides
    >>> remove_listen_container(proj, 'lists')
    >>> noLongerProvides(proj, IListenFeatureletInstalled)
    >>> proj.lists
    Traceback (most recent call last):
    ...
    AttributeError: lists


And the p1 discussion list should get unregistered from the list lookup
utility, but NOT those of any other project (bug #2055)::

    >>> pprint(ll.showAddressMapping())
    [{'address': 'p4-discussion@...',
      'path': '/plone/projects/p4/lists/p4-discussion'}]

Let's remove the one for p4 too:

    >>> remove_listen_container(p4_proj, 'lists')
    >>> noLongerProvides(p4_proj, IListenFeatureletInstalled)
    >>> p4_proj.lists
    Traceback (most recent call last):
    ...
    AttributeError: lists
    >>> pprint(ll.showAddressMapping())
    []
